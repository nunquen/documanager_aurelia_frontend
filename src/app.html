<template>

  <div class="container">
    <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
      <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
        <svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"></use></svg>
        <span class="fs-4">Documanager</span>
      </a>

      <ul class="nav nav-pills">
        <li class="nav-item">
          <a href="#" class="nav-link ${ router.currentInstruction.config.name === 'home' ? 'active' : '' }" 
          aria-current="page">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link ${ router.currentInstruction.config.name === 'new_document' ? 'active' : '' }"
            route-href="new_document" class="nav-link" if.bind="current_user">New Document</a>
        </li>
        <li class="nav-item">
          <a class="nav-link ${ router.currentInstruction.config.name === 'list_documents' ? 'active' : '' }"
            route-href="list_documents" if.bind="current_user">My Documents
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link ${ router.currentInstruction.config.name === 'login' ? 'active' : '' }" 
            route-href="login" if.bind="!current_user">Log In
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" if.bind="current_user" click.delegate="logout()">Log Out</a>
        </li>
        <p class="mt-2 pl-2" style="color:DarkGray"> Welcome, ${current_user.name || 'Guest'}</p>
      </ul>
    </header>
  </div>

  <!-- ul>
      <li><a route-href="home">Home</a></li>
      <li><a route-href="management">Management</a></li>
      <li><a route-href="route: post; params.bind: {slug: 'new_post'}">New Post</a></li>
      <li><a route-href="route: post; params.bind: {slug: 'list_posts'}">See all Post</a></li>
      <li><a route-href="route: post; params.bind: {slug: 'delete_post'}">Delete a previous Post</a></li>
  </ul>
  <hr>
  <ul>
    <li repeat.for="user of user_list">
        <span css="text-decoration: ${user.documents.length == 0 ? 'line-through' : 'none'}">
        ${user.get_name()}
        <ul>
          <li repeat.for="document of user.get_documents()">
              <span">
              ${document.get_name()}:  ${document.get_file_uploaded()}
              </span>
          </li>
        </span>
    </li>
  </ul -->
  <router-view></router-view>
</template>
